# Greedy-Procedural-Maze-Generation-in-Lua

This project showcases a stack-based [greedy algorithm](https://www.geeksforgeeks.org/greedy-algorithms/) to create random procedural mazes in Lua. The maze generation solves the problem of manually creating mazes for Games made in the Roblox Studio game engine.

### This project solves the following problems:
- Having to **manually build** an `N x N` maze by hand - The project always efficiently produces a **random maze** using a [`Backtracking algorithm`](https://www.geeksforgeeks.org/backtracking-algorithms/).
- Adding **items, spawnpoints and random structures** - The project stores the maze in an `Object Orientated` and efficient `grid node` data structure.

## Table of Contents
- [Introduction](#project-details)
- [Installation and Customisation](#project-installation-and-use)
  - [Wall, Cell and Board Size](#maze--cell-size--wall-height)
  - [Wall Colour](#wall-colour)
  - [Maze Entrances](#maze-entrances)
  - [Edge Wall Colouring](#colour-maze-edge-walls)
    

# Project Details

To complete the project, **3** different algorithms are considered and studied, `Prim's` algorithm, `Kruskal's` algorithm and a `Backtracking` algorithm using a `Stack`.

![image](https://github.com/user-attachments/assets/1d7ee40b-94f3-4522-80fd-bf8be4ceca21)

A **randomized Prim's** algorithm or **Kruskal's** algorithm can be used for Maze Generation, where the **minimum spanning tree** algorithms can be altered to take into account a list of walls. However, for simplicity, the project uses the `Iterative backtracking` algorithm using a `Stack`. The figure below shows the **results** from the project.

<img src="https://github.com/user-attachments/assets/2eb8d7c8-81b5-48c1-95e8-5375a2625a79" alt="Image description" width="300"/>

*Figure 1: Result of a 30x30 random maze generated by the program using `Backtracking`*

**A more detailed explanation** can be found in the project youtube video:

[![Random Maze Generation in Roblox Studio](https://img.youtube.com/vi/nGveqHnicr8/mqdefault.jpg)](https://www.youtube.com/watch?v=nGveqHnicr8)

[**Random Maze Generation in Roblox Studio**](https://www.youtube.com/watch?v=nGveqHnicr8&t=0s)

## Project Installation and Use

  - Download and open the `projectFile.rbxl` file from the repository. Once opened, locate `ServerScriptService` in the `Explorer` window which will contain the code required to run the maze generation.
  - Copy the `Init.lua` script from `ServerScriptService` and paste the script **and its children** into your own Roblox Studio environment.
  - Clicking `Run` in the `Home` tab will run the maze generation, however various customisations can be made such as:

    ### Maze & Cell Size + Wall Height

    To amend the maze, cell and wall sizes, locate `Server.lua` and amend the following variables:

    ```lua
    self.BOARD_WIDTH = 30 -- Change this variable to change the number of cells (boardW x boardW maze).
    self.CELL_WIDTH = 20 -- Change this variable to change the cell size (cellW x cellW cell size).
    self.HEIGHT = 50 -- Change this variable to change the wall height.
    ```
    
    ### Wall Colour

    To amend the wall colour, locate the `NodeClass.lua` class and alter the variable in `nodeClass.new(i, j, w, h, boardW, boardH)`:

    ```lua
    self.wallColour = Color3.new(0.207843, 0.207843, 0.207843)
    ```

    ### Maze Entrances

    To add **maze entrances**, locate `Server.lua` and find the `Server:calculateMaze()` function. In this function, **uncomment** the following code:
    ```lua
    self:checkForEntrance(current)
    ```
    This will produce the result shown in **`figure 2`**:

    <img src="https://github.com/user-attachments/assets/499c5d90-991f-4d90-ad9e-bdf23ec05a18" alt="Image description" width="300"/>
    
    *Figure 2: Result of applying `checkForEntrance(current) on the maze generation at cell (30,30)*

    ### Colour Maze Edge Walls

    To only **colour in** the `edge walls`, locate `Server.lua` and find the `Server:calculateMaze()` function. In this function, **uncomment** the following code:

    ```lua
    self:paintEdgeWalls(current)
    ```
    
    This will produce the result shown in **`figure 3`**:
    
    <img src="https://github.com/user-attachments/assets/66d409bf-38e8-41a7-8007-d015820265c6" alt="Image description" width="300"/>

    *Figure 3: Result of applying `paintEdgeWalls(current)` on the maze generation*
    

